/* ğŸ“œ 2629. Function Composition \\ https://leetcode.com/problems/function-composition/?envType=study-plan-v2&envId=30-days-of-javascript
Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ°
Ğ”Ğ°Ğ½ Ğ¼Ğ°ÑÑĞ¸Ğ² Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹ [f1, f2, f3, ..., fn], Ğ²ĞµÑ€Ğ½Ğ¸Ñ‚Ğµ Ğ½Ğ¾Ğ²ÑƒÑ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ fn, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ°Ñ ÑĞ²Ğ»ÑĞµÑ‚ÑÑ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸ĞµĞ¹ ÑÑ‚Ğ¸Ñ… Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹.

ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ñ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹ [f(x), g(x), h(x)] ÑĞ²Ğ»ÑĞµÑ‚ÑÑ Ñ„ÑƒĞ½ĞºÑ†Ğ¸ĞµĞ¹ fn(x) = f(g(h(x))).

ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ñ Ğ¿ÑƒÑÑ‚Ğ¾Ğ³Ğ¾ ÑĞ¿Ğ¸ÑĞºĞ° Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹ ÑĞ²Ğ»ÑĞµÑ‚ÑÑ Ñ‚Ğ¾Ğ¶Ğ´ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾Ğ¹ Ñ„ÑƒĞ½ĞºÑ†Ğ¸ĞµĞ¹ f(x) = x.

Ğ’Ñ‹ Ğ¼Ğ¾Ğ¶ĞµÑ‚Ğµ Ğ¿Ñ€ĞµĞ´Ğ¿Ğ¾Ğ»Ğ¾Ğ¶Ğ¸Ñ‚ÑŒ, Ñ‡Ñ‚Ğ¾ ĞºĞ°Ğ¶Ğ´Ğ°Ñ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ² Ğ¼Ğ°ÑÑĞ¸Ğ²Ğµ Ğ¿Ñ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚ Ğ¾Ğ´Ğ½Ğ¾ Ñ†ĞµĞ»Ğ¾Ğµ Ñ‡Ğ¸ÑĞ»Ğ¾ Ğ² ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğµ Ğ²Ñ…Ğ¾Ğ´Ğ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¸ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ğ¾Ğ´Ğ½Ğ¾ Ñ†ĞµĞ»Ğ¾Ğµ Ñ‡Ğ¸ÑĞ»Ğ¾ Ğ² ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğµ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ°. */


/* ğŸ“ ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ñ - ÑÑ‚Ğ¾ Ğ²Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹, ĞºĞ°Ğ¶Ğ´Ğ°Ñ Ğ¸Ğ· ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ñ… Ğ¿ĞµÑ€ĞµĞ´Ğ°ĞµÑ‚ ÑĞ²Ğ¾Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ² ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğµ Ğ²Ñ…Ğ¾Ğ´Ğ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ´Ğ»Ñ Ğ´Ñ€ÑƒĞ³Ğ¾Ğ¹ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸.*/

var compose = function (functions) {
  return function (x) {
    /* "ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ñ Ğ¿ÑƒÑÑ‚Ğ¾Ğ³Ğ¾ ÑĞ¿Ğ¸ÑĞºĞ° Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹ ÑĞ²Ğ»ÑĞµÑ‚ÑÑ Ñ‚Ğ¾Ğ¶Ğ´ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾Ğ¹ Ñ„ÑƒĞ½ĞºÑ†Ğ¸ĞµĞ¹ f(x) = x", Ñ‚.Ğµ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµĞ¼ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚ x */
    if (functions.length === 0) return x;

    /* reduceRight Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑ‚ Ğ¿ĞµÑ€ĞµĞ±Ğ¸Ñ€Ğ°Ñ‚ÑŒ Ğ¼Ğ°ÑÑĞ¸Ğ² ÑĞ¿Ñ€Ğ°Ğ²Ğ° Ğ½Ğ°Ğ»ĞµĞ²Ğ¾, Ñ‡Ñ‚Ğ¾ Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑ‚ Ğ´Ğ²Ğ¸Ğ³Ğ°Ñ‚ÑŒÑÑ Ğ¾Ñ‚ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½ĞµĞ¹ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ½Ğ½Ğ¾Ğ¹ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ğ¸ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ²Ğ°Ñ‚ÑŒ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ¿Ğ¾ Ñ†ĞµĞ¿Ğ¾Ñ‡ĞºĞµ Ğ´Ğ¾ ÑĞ°Ğ¼Ğ¾Ğ¹ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ¹ */
    const result = functions.reduceRight((acc, func) => func(acc), x);

    return result;
  };
};

const fn = compose([(x) => x + 1, (x) => 2 * x]);
fn(4); // 9

